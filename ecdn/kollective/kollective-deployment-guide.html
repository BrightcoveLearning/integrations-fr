---
title: 'Guide de déploiement de Kollective eCDN'
description: 'Dans cette rubrique, vous apprendrez comment intégrer le Kollective eCDN avec Brightcove Player.'
parent: Kollective
---
 <h1>{{page.title}}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Vue d'ensemble</h2>

<p>
  Brightcove a créé une intégration pour proposer des événements vidéo à la demande (VOD) et Brightcove Live aux lecteurs Brightcove à l'aide du <a href="https://kollective.com/ECDN-solutions/">Kollective eCDN</a>.
</p>

<p>Une solution eDN aide à la diffusion de contenu vers les réseaux d'entreprise. Ils éliminent les goulots d'étranglement du réseau lorsqu'un grand nombre de spectateurs simultanés regardent le même contenu, par exemple dans les bureaux d'entreprise. Avec eCDN, vous téléchargez du contenu vidéo à partir du serveur d'origine une fois pour chaque instance de serveur eCDN. Les visionneuses du réseau d'entreprise reçoivent le contenu du serveur eCDN via le réseau local. </p>
<p>Parmi les avantages de l'utilisation d'un eCDN, mentionnons les suivants :</p>
<ul>
  <li>
    Réduction du trafic WAN pour les sites d'entreprise
  </li>
  <li>
    Amélioration de l'expérience visuelle à l'échelle
  </li>
  <li>
    Réduction des coûts réseau
  </li>
  <li>
    Sécurité accrue puisque l'eCDN est derrière le pare-feu d'entreprise
  </li>
  <li>
    Surveillance des performances
  </li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Requirements">Exigences</h2>
<p>
  Les conditions suivantes s'appliquent au plugin eCDN :
</p>
<ul>
  <li>
    Vous devez utiliser un Brightcove Player version 6.42.2+
  </li>
  <li>
    Les vidéos doivent être ingérées pour la livraison dynamique
  </li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Getting_started">Premiers pas</h2>
<p>
  Pour utiliser le plugin kollectif, vous aurez besoin d'une configuration initiale :
</p>
<ol class="bcls-tasklist">
  <li>
    <a href="#Deploying_server_side_application">Déploiement d'une application côté serveur</a>
  </li>
  <li>
    <a href="#Installing_the_player_plugin">Installation du plugin du lecteur</a>
  </li>
  <li>
    <a href="#Whitelisting_domain_names">Liste blanche des noms de domaine</a>
  </li>
  <li>
    <p>
      Maintenant que vous avez terminé les étapes de déploiement, vous êtes prêt à synchroniser votre contenu et à incorporer le code du lecteur. Pour plus de détails, reportez-vous à ce qui suit :
    </p>
    <ul>
      <li>
          <a href="/ecdn/kollective/kollective-user-guide.html">Guide de l'utilisateur d'eCDN Kollective</a>
      </li>
    </ul>

  </li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Deploying_server_side_application">Déploiement d'une application côté serveur</h2>
<p>L'application eCDN backend doit être déployée sur votre serveur.</p>

<h3>Configuration requise du serveur</h3>
<p>
  Les conditions suivantes s'appliquent au serveur d'hébergement de l'application backend.
</p>
<ul>
  <li>
    NodeJS version 13+
  </li>
  <li>
    Serveur d'hébergement : Serveur Linux ou Windows (L'application backend peut également être déployée sur Heroku)
  </li>
  <li>
    Base de données MongoDB
  </li>
</ul>
<p>
  Le MongoDB peut être sur le même serveur que le serveur d'hébergement, sur un autre serveur ou à l'aide d'une <a href="https://www.mongodb.com/cloud">base de données cloud MongoDB Atlas</a>.
</p>

<h3>Définition des configurations</h3>
<p>
  Vous allez apporter quelques modifications de configuration pour l'application backend. Procédez comme suit :
</p>
<ol class="bcls-tasklist-restart">
  <li>
    Dans le répertoire racine du package de déploiement de l'application principale, ouvrez le <strong>config.env</strong> déposer.
  </li>
  <li>
    <p>
      <strong>Mode de production</strong> - Définissez le mode d'exécution de l'application en production ou en développement.
    </p>
    <p>
      Soit
    </p>
    <pre>
<code class="language-bash" translate="No">NODE_ENV=production</code></pre>
<p>
  ou
</p>
<pre>
<code class="language-bash" translate="No">NODE_ENV=development</code></pre>
  </li>
  <li>
    <p>
      <strong>Port de l'application</strong> - Définissez le port de l'application sur laquelle s'exécuter.
    </p>
    <p>
      Exemple :
    </p>
    <pre>
<code class="language-bash" translate="No">PORT=3000</code></pre>
  </li>
   <li>
    <p>
      <strong></strong>Base de données : l'application principale nécessite une base de données MongoDB.
    </p>
    <p>
      Vous pouvez spécifier la connexion à la base de données au format suivant :
    </p>
     <pre>
<code class="language-bash" translate="No">DATABASE=mongodb://{host}:{port}/{databaseName}</code></pre>
    <p>
      Exemple :
    </p>
    <pre>
<code class="language-bash" translate="No">DATABASE=mongodb://localhost:27017/Brightcove</code></pre>
    <p>
      Si vous souhaitez utiliser une base de données cloud MongoDB Atlas, vous pouvez la définir comme suit :
    </p>
    <pre>
<code class="language-bash" translate="No">DATABASE=mongodb+srv://{user}:{password}@{cluster}/{databaseName}?retryWrites=true&amp;w=majority</code></pre>
<p>
      Exemple :
    </p>
    <pre>
<code class="language-bash" translate="No">DATABASE=mongodb+srv://myuser:mypassword@cluster0-xafsz.mongodb.net/MyDatabase?retryWrites=true&amp;w=majority</code></pre>
  </li>
  <li>
    <p>
      <strong>Service de messagerie</strong> - L'application backend nécessite un paramètre de service de messagerie électronique pour envoyer des e-mails de notification.
    </p>
    <h5>SendGrid</h5>
    <p>
      Pour envoyer des e-mails à l'aide du service de messagerie SendGrid, utilisez ce qui suit avec votre nom d'utilisateur et votre mot de passe SendGrid :
    </p>
    <pre>
<code class="language-bash" translate="No"># Send email using Sendgrid email service.
EMAIL_SERVICE=SendGrid

# Send email using Sendgrid email service.
SENDGRID_USERNAME=<span class="bcls-input">your SendGrid username</span>
SENDGRID_PASSWORD=<span class="bcls-input">your SendGrid password</span>
</code></pre>
    <h5>Autre</h5>
    <p>
      Pour envoyer des e-mails à l'aide d'autres services de messagerie, utilisez ce qui suit avec l'hôte, le port, le nom d'utilisateur et le mot de passe de votre serveur de messagerie :
    </p>
    <pre>
<code class="language-bash" translate="No"># Set EMAIL_SERVICE=Other to send email using normal email service using host and port
EMAIL_SERVICE=Other

# Send email using host and port
EMAIL_HOST=<span class="bcls-input">your email host</span>
EMAIL_PORT=<span class="bcls-input">your email port</span>
EMAIL_USERNAME=<span class="bcls-input">your email username</span>
EMAIL_PASSWORD=<span class="bcls-input">your email password</span>
EMAIL_FROM=<span class="bcls-input">your email from address</span>
</code></pre>
  </li>
  <li>
    <p>
      <strong>URL de base de l'API Kollective Publish</strong> - L'application côté serveur appelle l'API de publication Kollective pour publier une vidéo depuis Brightcove avec des sources vidéo vers Kollective et récupérer un jeton de contenu. Ici, vous spécifiez l'URL de base de l'API de publication Kollective :
    </p>
    <pre>
<code class="language-bash" translate="No"># Kollective publish API base url
KOLLECTIVE_PUBLISH_API_BASE_URL=https://content.stage.kollective.app/api
</code></pre>
  </li>
  <li>
    <p>
      <strong>URL</strong> de base de l'API Brightcove : l'application côté serveur a besoin des URL de base de l'API Brightcove suivantes :
    </p>
    <pre>
<code class="language-bash" translate="No"># Brightcove API base URLs
BRIGHTCOVE_ACCESS_TOKEN_BASE_URL=https://oauth.brightcove.com/v4/access_token
BRIGHTCOVE_CMS_API_BASE_URL=https://cms.api.brightcove.com/v1
BRIGHTCOVE_LIVE_API_BASE_URL=https://api.bcovlive.io/v1
</code></pre>
  </li>
  <li>
    <p>
      <strong>Noms de champs personnalisés</strong> - Les paramètres de nom de champs personnalisés suivants ne peuvent pas être modifiés :
    </p>
    <pre>
<code class="language-bash" translate="No"># Required custom field names for each Brightcove Account ID
CUSTOM_FIELD_KOLLECTIVE_CONTENT_TOKEN=kollective_content_token
CUSTOM_FIELD_KOLLECTIVE_IS_SYNCHRONIZED=kollective_is_synchronized
CUSTOM_FIELD_KOLLECTIVE_SYNCHRONIZED_TIME=kollective_synchronized_time
CUSTOM_FIELD_KOLLECTIVE_LAST_SYNC_STATUS=kollective_last_sync_status
</code></pre>
  </li>
</ol>

<h3>Ajout de champs personnalisés</h3>
<p>
  Ensuite, vous êtes prêt à définir les champs personnalisés requis dans Video Cloud Studio.
</p>
<ol class="bcls-tasklist">
  <li>
    <p>
      Dans Video Cloud Studio, développez le menu déroulant <strong>Admin</strong> et sélectionnez <strong>Champs vidéo</strong>.
    </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Video Fields" src="/assets/images/kollective/video-fields.png" />
      <figcaption class="bcls-caption--image">Champs vidéo</figcaption>
    </figure>
  </li>
  <li>
    <p>
      Dans la page Champs vidéo, sélectionnez le <strong>Ajouter un champ personnalisé</strong> bouton.
    </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Add Custom Field" src="/assets/images/kollective/add-custom-field.png" />
      <figcaption class="bcls-caption--image">Ajouter un champ personnalisé</figcaption>
    </figure>
  </li>
  <li>
    <p>
      Ici, vous allez ajouter les champs personnalisés requis pour Kollective.
    </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Custom field values" src="/assets/images/kollective/custom-field-values.png" />
      <figcaption class="bcls-caption--image">Valeurs de champ personnalisées</figcaption>
    </figure>
    <p>
      Chaque ID de compte Brightcove à utiliser pour un compte de syndicateur nécessite les noms de champs personnalisés suivants définis pour que la synchronisation fonctionne :
    </p>
    <table class="bcls-table">
      <caption class="bcls-caption--table">Résumé des fonctionnalités de Brightcove Beacon</caption>
      <thead class="bcls-table__head">
        <tr>
          <th style="text-align: center;width:70%;">Nom du champ personnalisé</th>
          <th style="text-align: center;width:30%;">Type</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>kollective_content_token</td>
          <td style="text-align: center;">texte</td>
        </tr>
        <tr>
          <td>kollective_is_synchronisé</td>
          <td style="text-align: center;">texte</td>
        </tr>
        <tr>
          <td>kollective_synchronized_time</td>
          <td style="text-align: center;">texte</td>
        </tr>
        <tr>
          <td>kollective_last_sync_status</td>
          <td style="text-align: center;">texte</td>
        </tr>
      </tbody>
    </table>
    <p>
      Dans la page Détails du champ vidéo, saisissez les éléments suivants :
    </p>
    <ul>
      <li>
        Nom complet : entrez les noms de champs personnalisés du tableau ci-dessus. Enregistrez chaque champ séparément.
      </li>
      <li>
        Nom interne : il est généré à partir du nom complet.
      </li>
      <li>
        Laissez le <strong>type</strong> en tant que <strong>texte</strong>
      </li>
      <li>
        Entrez une <strong>description</strong>
      </li>
      <li>
        Laissez l'option <strong>Rendre ce champ obligatoire</strong> NON sélectionnée
      </li>
    </ul>
  </li>
</ol>

<h3>Déploiement de l'application</h3>
<p>
  Après avoir apporté toutes les modifications de configuration requises et ajouté les champs personnalisés requis, vous êtes prêt à déployer l'application backend sur votre serveur.
</p>
<ol class="bcls-tasklist">
  <li>
    Copiez le package d'application côté serveur dans le dossier de déploiement ciblé sur votre serveur d'hébergement.
  </li>
  <li>
    <p>
      Ouvrez une application console et accédez au dossier racine du package d'application à l'étape précédente. Exécutez la commande suivante pour installer tous les packages Node requis :
    </p>
    <pre>
<code class="language-bash" translate="No"># npm install --production
</code></pre>
  </li>
  <li>
    <p>
      Exécutez la commande ci-dessous pour importer l'utilisateur super-admin par défaut :
    </p>
    <pre>
<code class="language-bash" translate="No"># npm run import-users
</code></pre>
  </li>
  <li>
    <p>
      Pour démarrer l'application backend, exécutez la commande suivante :
    </p>
    <pre>
<code class="language-bash" translate="No"># npm run start
</code></pre>
  </li>
  <li>
    <p>
      Si tout est configuré correctement, vous pouvez ouvrir l'application sur un navigateur en utilisant l'adresse configurée.
    </p>
    <p>
      Exemple :
    </p>
    <pre>
<code class="language-bash" translate="No">http://localhost:3000/login
</code></pre>
  </li>
  <li>
    <p>
      Connectez-vous à l'application avec l'utilisateur super-administrateur par défaut importé ci-dessus.
    </p>
    <ul>
      <li>
        Nom d'utilisateur : super-admin@brightcove.com
      </li>
      <li>
        Mot de passe : Br1ghtC0ve
      </li>
    </ul>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Server-side login" src="/assets/images/kollective/backend-login.png" />
      <figcaption class="bcls-caption--image">Connexion côté serveur</figcaption>
    </figure>
  </li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Installing_the_player_plugin">Installation du plugin du lecteur</h2>
<p>
  Pour intégrer Kollective à Brightcove Player, ajoutez le plugin Kollective à votre lecteur.
</p>

	<aside class="bcls-aside bcls-aside--tip"> Le plugin Kollective est pris en charge avec la version v6.45+ de Brightcove Player. </aside>
<p>
      Les étapes suivantes détaillent l'utilisation de Video Cloud Studio pour charger le plugin.
    </p>

    <ol class="bcls-tasklist-restart">
      <li>
        Dans Video Cloud Studio, ouvrez le module <strong>PLAYERS</strong> et créez un nouveau lecteur ou localisez le lecteur auquel vous souhaitez ajouter le plugin.
      </li>
      <li>Sélectionnez le lien pour que le joueur ouvre ses propriétés.</li>
      <li>Sélectionnez <strong>Plugins</strong> dans le menu de navigation de gauche.</li>
      <li>
        <p>
          Ensuite, sélectionnez le <strong>Ajouter un plugin</strong> bouton, puis sélectionnez <strong>Plugin Brightcove</strong>.
        </p>

        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Add a Plugin button"
            src="/assets/images/ecdn/kollective/add-a-plugin.png"
          />
          <figcaption class="bcls-caption--image">
            Ajouter un bouton Plugin
          </figcaption>
        </figure>
      </li>
      <li>
        <p>
          Développez la liste déroulante <strong>Brightcove Plugin</strong> et sélectionnez <strong>kollective</strong>.
        </p>

        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Kollective plugin"
            src="/assets/images/ecdn/kollective/kollective_plugin.png"
          />
          <figcaption class="bcls-caption--image">
            Plug-in Kollective
          </figcaption>
        </figure>
      </li>
  <li>
    <p>
      Pour les <strong>options (JSON)</strong>: Entrez ce qui suit :
        </p>
        <ul>
          <li>
            <code translate="No">ksdkUrl</code>- Pointe vers la <code translate="No">ksdk</code> bibliothèque de Kollective — utilisez la version de votre choix
          </li>
        </ul>
    <pre>
<code class="language-bash" translate="No">{
    &quot;ksdkUrl&quot;: &quot;<span class="bcls-input">ksdk URL</span>&rdquo;
}
</code></pre>
      </li>
    </ul>
  </li>
  <li>
    Sélectionnez le <strong>sauvegarder</strong> bouton.
  </li>
  <li>
    Publiez votre lecteur.
  </li>
  <li>
	Mettre à jour/changer le code d'intégration de <span class="bcls-input">data-video-id</span> à <span class="bcls-input">data-kollective-video-id</span>.
  </li>
<aside class="bcls-aside bcls-aside--warning"> Lorsque vous intégrez un lecteur à utiliser avec l'intégration Kollective, vous devez mettre à jour/modifier le code d'intégration de <span class="bcls-input">data-video-id</span> à <span class="bcls-input">data-kollective-video-id</span>. </aside>
</ol>
</section>

<section class="bcls-section">
<h2 id="Whitelisting_domain_names">Liste blanche des noms de domaine</h2>
<p>
  Kollective doit ajouter vos noms de domaine à leur liste blanche pour ne pas recevoir d'erreur CORS. Fournissez les noms de domaine suivants à Kollective :
</p>
<ul>
  <li>
    <p>
      Nom de domaine dans lequel vous avez déployé votre application côté serveur
    </p>
  </li>
  <li>
    <p>
      Le domaine dans lequel vous avez déployé vos pages Web
    </p>
  </li>
</ul>
<p>
  Par exemple, si vous avez une page sur <strong>https://my-server.com/my-video-page</strong> qui utilise Brightcove Player avec le plugin Kollective, le domaine <strong>my-server.com</strong> doit être ajouté à la liste blanche Kollective. Cela permettra la lecture sur la page sans renvoyer d'erreur CORS.
</p>
</section>


<!-- <section class="bcls-section">
<h2 id="Limitations">Limitations</h2>

<p>Here are the limitation associated with the thumbnails plugin.</p>

<ul>
	<li>The current version of this plugin does not support thumbnails on mobile devices.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Changelog">Changelog</h2>

<p>See the <a href="/plugins/changelog/thumbnails-plugin-changelog.html">changelog here</a>.</p>
</section> -->
</article>